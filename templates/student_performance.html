{% extends "base.html" %}

{% block title %}{{ student.name }} - Performance{% endblock %}

{% block content %}
<div class="card">
    <div style="margin-bottom: 2rem;">
        <a href="/students" class="btn btn-secondary" style="padding: 0.5rem 1rem; font-size: 0.875rem;">‚Üê Back to Students</a>
    </div>

    <h2>{{ student.name }}</h2>
    <p style="color: #64748b; margin-bottom: 2rem;">{{ student.email }}</p>

    <h3 style="margin-bottom: 1rem; color: #475569;">Performance Overview</h3>
    <div class="stats-grid">
        <div class="stat-card">
            <h3>Total Courses</h3>
            <div class="value">{{ analytics.total_courses }}</div>
        </div>

        <div class="stat-card">
            <h3>Average Score</h3>
            <div class="value">{{ analytics.average_score }}</div>
        </div>

        <div class="stat-card">
            <h3>GPA</h3>
            <div class="value">{{ analytics.gpa }}</div>
        </div>

        <div class="stat-card">
            <h3>Highest Score</h3>
            <div class="value">{{ analytics.highest_score }}</div>
        </div>

        <div class="stat-card">
            <h3>Lowest Score</h3>
            <div class="value">{{ analytics.lowest_score }}</div>
        </div>

        <div class="stat-card">
            <h3>Median Score</h3>
            <div class="value">{{ analytics.median_score }}</div>
        </div>
    </div>
</div>

<div class="card">
    <h3 style="margin-bottom: 1rem; color: #475569;">Course Grades</h3>

    {% if grades %}
    <table>
        <thead>
            <tr>
                <th>Course</th>
                <th>Score</th>
                <th>Grade</th>
                <th>Semester</th>
                <th>Year</th>
            </tr>
        </thead>
        <tbody>
            {% for grade in grades %}
            <tr>
                <td>{{ grade.courses.code }} - {{ grade.courses.name }}</td>
                <td>{{ grade.score }}</td>
                <td><span class="grade-badge grade-{{ grade.grade_letter }}">{{ grade.grade_letter }}</span></td>
                <td>{{ grade.semester }}</td>
                <td>{{ grade.year }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    {% else %}
    <p style="color: #64748b; text-align: center; padding: 2rem;">No grades recorded for this student yet.</p>
    {% endif %}
</div>
{% endblock %}
